# Data Wrangling

::: { .alert .alert-info}
These are just the notes for the lecture that
will be filled during the recording.
Check back later to the the completed script.
:::

> ... in which we explore the typical
  data analysis workflow
  with the tidyverse,
  wrangle different kinds of data and
  learn about factors.

<!-- ::: {.video-container} -->
<!-- <iframe class="video" src="https://www.youtube.com/embed/yo6uQYr8U48" allowfullscreen></iframe> -->
<!-- ::: -->

- talk about how to say things in your head
- loading packages first

```{r}
knitr::opts_chunk$set(eval = FALSE)
```

## A Project-based Workflow

- why we do the project based workflow
- getwd
- why not to use setwd
- what are file-paths
  - absolute
  - relative
  
## A Data Analysis Workflow

![Figure from @wickhamDataScienceImport2017.](images/workflow-wickham.png)

## Reading Data with `readr`

<aside>
<a href="https://readr.tidyverse.org/">
![The readr logo](images/readr.png)
</a>
</aside>

- note on `::` and `library`
- donwload data for today
- show folder structure
- showing raw data
- download.file (make sure data folder exists)

![](images/download_repo.png)

![](images/github-raw.png)

- show tab / ctrl+space autocompletion
- read gapminder data (csv)
- read csv also works with url
  - but you probably also want a local copy
  - write_csv and friends


- The gapminder dataset [@bryanGapminderDataGapminder2017]
  is an excerpt from the [gapminder project](https://www.gapminder.org/)
  and contains the life expectancy at birth for
  142 countries at 5 year intervals between 1952 and 2007.
  It also contains the population and the
  Gross Domestic Product (GDP) per Inhabitant.
  We will built a visualization later on.

### Common Hurdles when Importing Data

## Wrangling Data with `dplyr`

<aside>
<a href="https://dplyr.tidyverse.org/">
![](images/dplyr.png)
</a>
</aside>

![Let's go data wrangling! Artwork by Allison Horst](images/dplyr_wrangling.png)

### select

### filter

![Filter data. Artwork by Allison Horst](images/dplyr_filter.jpg)

### mutate

### Interlude: Begind the magic, handling data with base-R

### The pipe `%>%`

### arrange

### summarise

### group_by

## Visualization and our first encounter with `factor`s

<aside>
<a href="https://forcats.tidyverse.org/">
![](images/forcats.png)
</a>
</aside>

## Exercises

## Resources

## Package Documentation

- [The tidyverse website](https://www.tidyverse.org/)
- [The readr package website with cheatsheet](https://readr.tidyverse.org/)
- [The dplyr package website with cheatsheet](https://dplyr.tidyverse.org/)

## Getting Help

- [How to find help](https://www.tidyverse.org/help/#reprex)
- [R4DS online learning community](https://www.rfordatasci.com/)

